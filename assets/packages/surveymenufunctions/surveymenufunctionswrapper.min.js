var SurveyMenuFunctionsWrapper=function(a,b,c){var d=function(b,d){d=d||{};var e=$(a).find(".modal-content");e.load(c.loadSurveyEntryFormUrl,d,function(a,c,d){e.find("form").on("submit",function(a){a.preventDefault();var c=$(this).serializeArray(),d=$(this).attr("action");$.ajax({url:d,data:c,method:"POST",dataType:"json",success:b,error:function(a){console.log(a)}})})}),$(a).modal("show")},e=function(){return d(function(c){$(a).modal("hide"),$.fn.yiiGridView.update(b)})},f=function(c){return d(function(c){$(a).modal("hide"),$.fn.yiiGridView.update(b)},c)},g=function(a){$("#deletemodal").modal("show"),$("#deletemodal").on("shown.bs.modal",function(){$("#deletemodal-confirm").on("click",function(){$.ajax({url:c.deleteEntryUrl,data:a,method:"post",success:function(a){window.location.reload()},error:function(a){window.location.reload()}})})})},h=function(){$.ajax({url:c.reorderEntriesUrl,data:{},method:"POST",dataType:"json",success:function(a){$.fn.yiiGridView.update(b)},error:function(a){console.log(a)}})},i=function(){$("#restoremodal").find(".modal-content").html('<div class="ls-flex align-items-center align-content-center" style="height:200px"><i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i></div>'),$.ajax({url:c.restoreEntriesUrl,data:{},method:"POST",dataType:"json",success:function(a){console.log(a),$("#restoremodal").find(".modal-content").html('<div class="ls-flex align-items-center align-content-center" style="height:200px">'+a.message+"</div>"),a.success&&setTimeout(function(){window.location.reload()},1500)}})};return{getBindActionForSurveymenuEntries:function(){return function(){$("#reset-menu-entries-confirm").on("click",function(a){a.preventDefault(),i()}),$("#createnewmenuentry").on("click",function(a){a.stopPropagation(),a.preventDefault(),e()}),$(a).on("hidden.bs.modal",function(){$(this).find(".modal-content").html("")}),$("#surveymenu-entries-grid").on("click","tr",function(){$(this).find(".action_selectthisentry").prop("checked",!$(this).find(".action_selectthisentry").prop("checked"))}),$(".action_selectthisentry").on("click",function(a){a.stopPropagation()}),$("#reorderentries").on("click",function(a){a.stopPropagation(),a.preventDefault(),h()}),$(".action_surveymenuEntries_editModal").on("click",function(a){a.stopPropagation(),a.preventDefault(),f({menuentryid:$(this).closest("tr").data("surveymenu-entry-id"),ajax:!0})}),$(".action_surveymenuEntries_deleteModal").on("click",function(a){a.stopPropagation(),a.preventDefault(),g({menuEntryid:$(this).closest("tr").data("surveymenu-entry-id"),ajax:!0})})}},getBindActionForSurveymenus:function(){return function(){$("#reset-menus-confirm").on("click",function(a){a.preventDefault(),i()}),$("#createnewmenu").on("click",function(a){a.stopPropagation(),a.preventDefault(),e()}),$("#editcreatemenu").on("hidden.bs.modal",function(){$(this).find(".modal-content").html("")}),$("#surveymenu-grid").on("click","tr",function(){$(this).find(".action_selectthismenu").prop("checked",!$(this).find(".action_selectthismenu").prop("checked"))}),$(".action_selectthismenu").on("click",function(a){a.stopPropagation()}),$(".action_surveymenu_editModal").on("click",function(a){a.stopPropagation(),a.preventDefault(),f({menuid:$(this).closest("tr").data("surveymenu-id"),ajax:!0})}),$(".action_surveymenu_deleteModal").on("click",function(a){a.stopPropagation(),a.preventDefault(),g({menuid:$(this).closest("tr").data("surveymenu-id"),ajax:!0})})}}}};